Executing (default): SELECT 1+1 AS result
Γ£à Database connection established successfully
≡ƒôè Connected to: smartparking@localhost:3306
≡ƒº╣ Synchronizing database (Clean Start)...
Executing (default): SET FOREIGN_KEY_CHECKS = 0
Executing (default): DROP TABLE IF EXISTS `helpline_calls`;
Executing (default): DROP TABLE IF EXISTS `chatbot_logs`;
Executing (default): DROP TABLE IF EXISTS `support_tickets`;
Executing (default): DROP TABLE IF EXISTS `audit_logs`;
Executing (default): DROP TABLE IF EXISTS `settings`;
Executing (default): DROP TABLE IF EXISTS `payments`;
Executing (default): DROP TABLE IF EXISTS `passes`;
Executing (default): DROP TABLE IF EXISTS `violations`;
Executing (default): DROP TABLE IF EXISTS `bookings`;
Executing (default): DROP TABLE IF EXISTS `parking_slots`;
Executing (default): DROP TABLE IF EXISTS `parking_zones`;
Executing (default): DROP TABLE IF EXISTS `users`;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'parking_zones' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'parking_slots' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'bookings' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'payments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'violations' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'settings' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'audit_logs' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'passes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'support_tickets' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'chatbot_logs' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'helpline_calls' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='smartparking' AND REFERENCED_TABLE_NAME IS NOT NULL;
Executing (default): DROP TABLE IF EXISTS `users`;
Executing (default): DROP TABLE IF EXISTS `parking_zones`;
Executing (default): DROP TABLE IF EXISTS `parking_slots`;
Executing (default): DROP TABLE IF EXISTS `bookings`;
Executing (default): DROP TABLE IF EXISTS `payments`;
Executing (default): DROP TABLE IF EXISTS `violations`;
Executing (default): DROP TABLE IF EXISTS `settings`;
Executing (default): DROP TABLE IF EXISTS `audit_logs`;
Executing (default): DROP TABLE IF EXISTS `passes`;
Executing (default): DROP TABLE IF EXISTS `support_tickets`;
Executing (default): DROP TABLE IF EXISTS `chatbot_logs`;
Executing (default): DROP TABLE IF EXISTS `helpline_calls`;
Executing (default): DROP TABLE IF EXISTS `users`;
Executing (default): CREATE TABLE IF NOT EXISTS `users` (`id` INTEGER UNSIGNED auto_increment , `username` VARCHAR(50) NOT NULL UNIQUE, `email` VARCHAR(100) NOT NULL UNIQUE, `password_hash` VARCHAR(255) NOT NULL, `full_name` VARCHAR(100) NOT NULL, `role` ENUM('admin', 'contractor', 'officer', 'viewer', 'user') NOT NULL DEFAULT 'viewer', `phone` VARCHAR(20), `status` ENUM('active', 'inactive', 'suspended') NOT NULL DEFAULT 'active', `last_login` DATETIME, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
Executing (default): SHOW INDEX FROM `users`
Executing (default): DROP TABLE IF EXISTS `parking_zones`;
Executing (default): CREATE TABLE IF NOT EXISTS `parking_zones` (`id` INTEGER UNSIGNED auto_increment , `name` VARCHAR(100) NOT NULL, `address` VARCHAR(255) NOT NULL, `latitude` DECIMAL(10,7) NOT NULL, `longitude` DECIMAL(10,7) NOT NULL, `total_capacity` INTEGER UNSIGNED NOT NULL, `current_occupancy` INTEGER DEFAULT 0, `contractor_limit` INTEGER, `contractor_name` VARCHAR(100), `contractor_contact` VARCHAR(20), `contractor_email` VARCHAR(100), `hourly_rate` DECIMAL(10,2) DEFAULT 50, `penalty_per_vehicle` DECIMAL(10,2) DEFAULT 500, `operating_hours` VARCHAR(50) DEFAULT '06:00 - 22:00', `status` ENUM('active', 'inactive', 'maintenance') DEFAULT 'active', `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
Executing (default): SHOW INDEX FROM `parking_zones`
Executing (default): DROP TABLE IF EXISTS `parking_slots`;
Executing (default): CREATE TABLE IF NOT EXISTS `parking_slots` (`id` INTEGER UNSIGNED auto_increment , `zone_id` INTEGER UNSIGNED NOT NULL, `slot_number` VARCHAR(20) NOT NULL, `slot_type` ENUM('car', 'bike', 'ev', 'disabled') DEFAULT 'car', `status` ENUM('available', 'occupied', 'maintenance') NOT NULL DEFAULT 'available', PRIMARY KEY (`id`), FOREIGN KEY (`zone_id`) REFERENCES `parking_zones` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
Executing (default): SHOW INDEX FROM `parking_slots`
Executing (default): ALTER TABLE `parking_slots` ADD UNIQUE INDEX `parking_slots_zone_id_slot_number` (`zoneId`, `slotNumber`)
Executing (default): ALTER TABLE `parking_slots` ADD UNIQUE INDEX `parking_slots_zone_id_slot_number` (`zoneId`, `slotNumber`)
Executing (default): ALTER TABLE `parking_slots` ADD UNIQUE INDEX `parking_slots_zone_id_slot_number` (`zoneId`, `slotNumber`)
Γ¥î Error starting server: Error
    at Query.run (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\sequelize\lib\dialects\mysql\query.js:52:25)
    at C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\sequelize\lib\sequelize.js:315:28
    at async MySQLQueryInterface.addIndex (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:250:12)
    at async ParkingSlot.sync (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\sequelize\lib\model.js:999:7)
    at async Sequelize.sync (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\sequelize\lib\sequelize.js:377:9)
    at async startServer (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\src\server.js:34:7) {
  name: 'SequelizeDatabaseError',
  parent: Error: Key column 'zoneId' doesn't exist in table
      at Packet.asError (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\packets\packet.js:740:17)
      at Query.execute (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\commands\command.js:29:26)
      at Connection.handlePacket (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\base\connection.js:508:34)
      at PacketParser.onPacket (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\base\connection.js:93:12)
      at PacketParser.executeStart (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\packet_parser.js:75:16)
      at Socket.<anonymous> (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\base\connection.js:100:25)
      at Socket.emit (node:events:508:28)
      at addChunk (node:internal/streams/readable:559:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
      at Readable.push (node:internal/streams/readable:390:5) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'zoneId' doesn't exist in table",
    sql: 'ALTER TABLE `parking_slots` ADD UNIQUE INDEX `parking_slots_zone_id_slot_number` (`zoneId`, `slotNumber`)',
    parameters: undefined
  },
  original: Error: Key column 'zoneId' doesn't exist in table
      at Packet.asError (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\packets\packet.js:740:17)
      at Query.execute (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\commands\command.js:29:26)
      at Connection.handlePacket (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\base\connection.js:508:34)
      at PacketParser.onPacket (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\base\connection.js:93:12)
      at PacketParser.executeStart (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\packet_parser.js:75:16)
      at Socket.<anonymous> (C:\Users\AAKASH\OneDrive\Desktop\folder12\backend\node_modules\mysql2\lib\base\connection.js:100:25)
      at Socket.emit (node:events:508:28)
      at addChunk (node:internal/streams/readable:559:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
      at Readable.push (node:internal/streams/readable:390:5) {
    code: 'ER_KEY_COLUMN_DOES_NOT_EXITS',
    errno: 1072,
    sqlState: '42000',
    sqlMessage: "Key column 'zoneId' doesn't exist in table",
    sql: 'ALTER TABLE `parking_slots` ADD UNIQUE INDEX `parking_slots_zone_id_slot_number` (`zoneId`, `slotNumber`)',
    parameters: undefined
  },
  sql: 'ALTER TABLE `parking_slots` ADD UNIQUE INDEX `parking_slots_zone_id_slot_number` (`zoneId`, `slotNumber`)',
  parameters: {}
}
